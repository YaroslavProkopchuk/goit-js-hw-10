{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n};\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nconst input = form.querySelector('input');\nconst textarea = form.querySelector('textarea');\npopulateText();\nform.addEventListener('input', onTextInput);\n\nfunction onTextInput(event) {\n  const { name, value } = event.target;\n  if (formData.hasOwnProperty(name)) {\n    formData[name] = value;\n    localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n  }\n}\n\nfunction populateText() {\n  const savedData = localStorage.getItem(STORAGE_KEY);\n  if (savedData) {\n    const parsedData = JSON.parse(savedData);\n\n    if (parsedData.email) {\n      input.value = parsedData.email;\n      formData.email = parsedData.email;\n    }\n\n    if (parsedData.message) {\n      textarea.value = parsedData.message;\n      formData.message = parsedData.message;\n    }\n  }\n}\n\nform.addEventListener('submit', onFormSubmit);\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const trimmedEmail = formData.email.trim();\n  const trimmedMessage = formData.message.trim();\n\n  if (!trimmedEmail || !trimmedMessage) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log({ email: trimmedEmail, message: trimmedMessage });\n\n  localStorage.removeItem(STORAGE_KEY);\n  formData.email = '';\n  formData.message = '';\n  form.reset();\n}\n"],"names":["formData","STORAGE_KEY","form","input","textarea","populateText","onTextInput","event","name","value","savedData","parsedData","onFormSubmit","trimmedEmail","trimmedMessage"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EACMC,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,OAAO,EAClCE,EAAWF,EAAK,cAAc,UAAU,EAC9CG,IACAH,EAAK,iBAAiB,QAASI,CAAW,EAE1C,SAASA,EAAYC,EAAO,CAC1B,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAC1BP,EAAS,eAAeQ,CAAI,IAC9BR,EAASQ,CAAI,EAAIC,EACjB,aAAa,QAAQ,sBAAuB,KAAK,UAAUT,CAAQ,CAAC,EAExE,CAEA,SAASK,GAAe,CACtB,MAAMK,EAAY,aAAa,QAAQT,CAAW,EAClD,GAAIS,EAAW,CACb,MAAMC,EAAa,KAAK,MAAMD,CAAS,EAEnCC,EAAW,QACbR,EAAM,MAAQQ,EAAW,MACzBX,EAAS,MAAQW,EAAW,OAG1BA,EAAW,UACbP,EAAS,MAAQO,EAAW,QAC5BX,EAAS,QAAUW,EAAW,QAEjC,CACH,CAEAT,EAAK,iBAAiB,SAAUU,CAAY,EAC5C,SAASA,EAAaL,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMM,EAAeb,EAAS,MAAM,KAAI,EAClCc,EAAiBd,EAAS,QAAQ,KAAI,EAE5C,GAAI,CAACa,GAAgB,CAACC,EAAgB,CACpC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAI,CAAE,MAAOD,EAAc,QAASC,CAAc,CAAE,EAE5D,aAAa,WAAWb,CAAW,EACnCD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBE,EAAK,MAAK,CACZ"}